@use "@styles/mixins" as mixins;

.modal {
  --_modal-width: 32.5rem;
  --_modal-color: inherit;
  --_modal-bg: var(--dark-300);
	--_modal-margin-y: 1.5rem;
	--_modal-margin-x: var(--container-offset);
	--_modal-rounded: 1rem;
	--_modal-padding-y: 1.5rem;
	--_modal-padding-x: 1.25rem;

	width: 100%;
	height: 100%;
	overflow-x: hidden;
	overflow-y: auto;
	outline: 0;
	pointer-events: none;
	will-change: transform;
	position: fixed;
	top: 0;
	left: 0;
	z-index: 1055;

	@include mixins.breakpoint-up(lg) {
		--_modal-width: 39.375rem;
	}

	&Backdrop {
		background-color: transparent;
		cursor: pointer;
		position: fixed;
		inset: 0;
		z-index: 1050;
		transition-property: background-color;
		transition-duration: var(--transition-duration);
		transition-timing-function: var(--transition-timing-function);

		&.isOpen {
			background-color: rgba(0, 0, 0, .6);
		}

		&.isClosing {
			background-color: transparent;
		}
	}

	&Dialog {
		min-height: calc(100% - var(--_modal-margin-y) * 2);
		display: flex;
		align-items: center;
		position: relative;
		width: auto;
		margin: var(--_modal-margin-y) var(--_modal-margin-x);
		opacity: 0;
		transform: translateY(-3rem);

		transition-property: transform, opacity;
		transition-duration: var(--transition-duration);
		transition-timing-function: var(--transition-timing-function);

		@include mixins.breakpoint-up(sm) {
			max-width: var(--_modal-width);
			margin-right: auto;
			margin-left: auto;
		}

		.modal.isOpen & {
			transform: initial;
			opacity: 1;
		}
	}

	&Content {
		width: 100%;
		display: flex;
		flex-direction: column;
		gap: 1rem;
		color: var(--_modal-color);
		background-color: var(--_modal-bg);
		background-clip: padding-box;
		margin-inline: var(--container-offset);
		border-radius: var(--_modal-rounded);
		padding: var(--_modal-padding-y) var(--_modal-padding-x);
		pointer-events: auto;
		outline: 0;
		position: relative;
	}

	&Header {
		display: flex;
		align-items: center;
		justify-content: space-between;
		gap: .75rem;
		border-bottom: .0625rem solid var(--gray-400);
		padding-bottom: 1rem;

		&Content {
			display: flex;
			flex-direction: column;
			gap: .5rem;
		}
	}

	&Title {
		font-size: var(--h5);
		font-weight: 700;
		line-height: 1.3;
	}

	&Subtitle {
		color: var(--gray-200);
	}

	&Close {
		--_icon-size: 1.5rem;
	}
}

.modalForm,
.modalDashboard,
.modalDashboardBigger {
	--_modal-padding-y: 3rem;
	--_modal-padding-x: 2.5rem;

	@include mixins.breakpoint-down(sm) {
		--_modal-rounded: 0rem;
		--_modal-padding-y: .5rem;
		--_modal-padding-x: var(--container-offset);
	}

	.modalDialog {

		@include mixins.breakpoint-down(sm) {
			min-height: 100vh;
			align-items: stretch;
			margin: 0;

			@supports (height: 100dvh) {
				min-height: 100dvh;
			}
		}
	}

	.modalContent {

		@include mixins.breakpoint-down(sm) {
			flex: 1 1;
			justify-content: center;
			margin: 0;
			padding-block: 4.25rem 1.5rem;
		}
	}

	.modalBrand {
		position: absolute;
		top: 1rem;
		left: var(--container-offset);

		@include mixins.breakpoint-up(sm) {
			display: none;
		}
	}

	.modalHeader {
		padding-bottom: 0;
		border: none;
	}

	.modalClose {
		position: absolute;
		top: 1rem;
		right: 1rem;
	}
}

.modalForm {
	--_modal-width: 30rem;

	.modalHeader {
		justify-content: center;

		&Content {
			text-align: center;
		}
	}

	.modalTitle {
		display: flex;
		flex-direction: column;
		align-items: center;
		font-size: 2rem;

		&Icon {
			--_size: 8rem;
			--_color: var(--primary);
		}
	}

	.modalBody {
		display: flex;
		flex-direction: column;
		gap: 1rem;
	}
}

.modalDashboard,
.modalDashboardBigger {

	.modalBody {
		flex: 1 1;
		display: flex;
		flex-direction: column;
	}
}

.modalDashboard {

	.modalContent {
		gap: 1.5rem;
	}
}

.modalDashboardBigger {
	--_modal-width: 54.75rem;

	.modalContent {
		flex-direction: column-reverse;
		gap: 2.5rem;

		@include mixins.breakpoint-up(md) {
			flex-direction: row;
			gap: initial;
		}
	}

	.modalHeader,
	.modalBody {

		@include mixins.breakpoint-up(md) {
			flex: 1 1;
		}
	}

	.modalHeader {

		@include mixins.breakpoint-up(md) {
			flex-direction: column;
			align-items: stretch;
			justify-content: space-between;
			gap: 2rem;
			border-right: .0625rem solid var(--dark-600);
			padding-right: 1.5rem;
		}

		@include mixins.breakpoint-up(lg) {
			padding-right: 2.5rem;
		}
	}

	.modalBody {

		@include mixins.breakpoint-up(md) {
			padding-left: 1.5rem;
		}

		@include mixins.breakpoint-up(lg) {
			padding-left: 2.5rem;
		}
	}
}